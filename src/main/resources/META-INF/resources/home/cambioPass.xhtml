<?xml version="1.0" encoding="UTF-8"?>

<ui:composition lang="es"
                xmlns:f="jakarta.faces.core"
                xmlns:h="jakarta.faces.html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:fs="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/template/main.xhtml">

    <h:head>
        <title>Cambio de Contraseña</title>
    </h:head>

    <ui:define name="contenido">

        <!-- Título de la página -->
        <h1>Cambiar Contraseña</h1>

        <!-- Mensaje de error o éxito (si existe) -->
        <p:messages id="messages" globalOnly="true" />

        <!-- Formulario para cambiar la contraseña -->
        <h:form id="changePasswordForm">

            <!-- Nueva Contraseña -->
            <h:panelGrid columns="2" cellpadding="5">
                <h:outputLabel for="newPassword" value="Nueva Contraseña:" />
                <p:password id="newPassword" value="#{userBean.contrasenaInput}"
                            required="true"
                            label="Nueva Contraseña" />
            </h:panelGrid>

            <!-- Confirmación de Nueva Contraseña -->
            <h:panelGrid columns="2" cellpadding="5">
                <h:outputLabel for="confirmNewPassword" value="Confirmar Nueva Contraseña:" />
                <p:password id="confirmNewPassword" value="#{userBean.contrasenaConfirm}"
                            required="true"
                            label="Confirmar Nueva Contraseña" />
            </h:panelGrid>

            <!-- Botón de cambio de contraseña -->
            <h:panelGrid columns="2" cellpadding="5">
                <h:commandButton value="Cambiar Contraseña"
                                 action="#{userBean.changePassword}"
                                 update="messages, changePasswordForm" />
            </h:panelGrid>

        </h:form>

    </ui:define>

</ui:composition>
